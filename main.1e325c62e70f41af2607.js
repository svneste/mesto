!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(e,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_setEventListeners",(function(){o._inputList=Array.from(o._formElement.querySelectorAll(o._inputSelector)),o._submitButtonElement=o._formElement.querySelector(o._submitButtonSelector),o.toggleButtonState(),o._inputList.forEach((function(e){e.addEventListener("input",(function(){o._isValid(e),o.toggleButtonState()}))}))})),t(this,"_isValid",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),t(this,"_showInputError",(function(e,t){o._formElement.querySelector(".".concat(e.id,"-error")).textContent=t,e.classList.add(o._inputErrorClass)})),t(this,"_hideInputError",(function(e){o._formElement.querySelector(".".concat(e.id,"-error")).textContent="",e.classList.remove(o._inputErrorClass)})),t(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),t(this,"toggleButtonState",(function(){o._hasInvalidInput()?(o._submitButtonElement.classList.add(o._buttonInvalid),o._submitButtonElement.disabled=!0):(o._submitButtonElement.classList.remove(o._buttonInvalid),o._submitButtonElement.disabled=!1)})),this._config=e,this._inputSelector=e.inputSelector,this._buttonInvalid=e.buttonInvalid,this._submitButtonSelector=e.submitButtonSelector,this._inputErrorClass=e.inputErrorClass,this._formElement=r}var r,o;return r=n,(o=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r,o,i=this,a=t.data,u=t.userID,c=t.handleCardClick,l=t.handlePopupDeleteOpen,s=t.handleLikeCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){i._element.remove(),i._element=null},(r="removeCard")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this.liked=!1,a.likes.forEach((function(e){e._id===u&&(i.liked=!0)})),this._userID=u,this._data=a,this._name=a.name,this._link=a.link,this._like=a.likes.length,this._owner=a.owner,this._cardSelector=n,this._handleCardClick=c,this._id=a._id,this._handlePopupDeleteOpen=l,this._handleLikeCard=s}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".gallery__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".gallery__images"),this._likeButton=this._element.querySelector(".gallery__like-button"),this._cardTitle=this._element.querySelector(".gallery__title"),this._placeLike=this._element.querySelector(".gallery__like-count"),this._removeIcon=this._element.querySelector(".gallery__crash-button"),this._setEventListener(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._placeLike.textContent=this._like,this.liked&&this._likeButton.classList.add("gallery__like-button-active"),this._owner._id==this._userID&&this._removeIcon.classList.add("gallery__crash-button-owner"),this._element}},{key:"_setEventListener",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._toggleLike()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._removeIcon.addEventListener("click",(function(){e._handlePopupDeleteOpen(e)}))}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("gallery__like-button-active"),this._handleLikeCard()}},{key:"setLikes",value:function(e){this._like=e,this._placeLike.textContent=this._like}},{key:"likeStatus",value:function(){this.liked=!this.liked}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(e){this._renderer(e)}},{key:"addItem",value:function(e){this._container.prepend(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup__opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup__opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup__opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).img=t._popup.querySelector(".popup__img"),t.label=t._popup.querySelector(".popup__label"),t}return t=a,(n=[{key:"open",value:function(e,t){this.img.src=t,this.img.alt=e,this.label.textContent=e,f(y(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._handleFormSubmit(n._getInputValues())},(o="_submitForm")in(r=S(n=i.call(this,e)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._form=n._popup.querySelector(".form"),n._inputs=n._form.querySelectorAll(".form__field"),n._handleFormSubmit=t,n._button=n._form.querySelector(".form__button"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputs.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){v(E(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitForm)}},{key:"close",value:function(){v(E(a.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(e){this._button.innerText=e?"Сохранение ...":"Сохранить"}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t,n,r){var o,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=function(){return a._data={name:a._name.textContent,job:a._job.textContent},a._data},(o="getUserInfo")in this?Object.defineProperty(this,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[o]=i,this._name=document.querySelector(t),this._job=document.querySelector(n),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._job.textContent=t}},{key:"setAvatarUser",value:function(e){this._avatar.style.backgroundImage="url('".concat(e,"')")}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkSuccessRequest",value:function(e){return e.ok?e.json():Promise.reject("Запрос отработал с ошибкой - ".concat(e.status))}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"editUserProfile",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkSuccessRequest)}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkSuccessRequest)}},{key:"removeMyCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"changeAvatarUser",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkSuccessRequest)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function D(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return D(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._handleDeleteCard(n._card)},(o="_submitFormDelete")in(r=A(n=i.call(this,e)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._form=n._popup.querySelector(".form-delete"),n._buttonPopupDeleteCard=n._form.querySelector(".form__button-delete"),n._handleDeleteCard=t,n}return t=a,(n=[{key:"open",value:function(e){this._card=e,R(x(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){R(x(a.prototype),"setEventListeners",this).call(this),this._buttonPopupDeleteCard.addEventListener("click",this._submitFormDelete)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c),V=document.querySelector(".profile__button-edit"),F=document.querySelector(".profile__button-add"),N=document.querySelector(".form-edit"),M=document.querySelector(".form-add"),J=document.querySelector("#name"),G=document.querySelector("#description"),H=document.querySelector(".profile__avatar"),z=document.querySelector(".form-avatar"),$=document.querySelector(".gallery__items"),K={inputSelector:".form__field",submitButtonSelector:".form__button",buttonInvalid:"form__button-invalid",inputErrorClass:"form__input_type_error"};function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var W=new n(K,N);W.enableValidation();var X=new n(K,M);X.enableValidation();var Y=new n(K,z);Y.enableValidation();var Z=new j(".profile__title",".profile__description",".profile__avatar"),ee=new O(".popup-edit",(function(e){ee.renderLoading(!0),re.editUserProfile(e.name,e.description).then((function(e){Z.setUserInfo(e.name,e.about),ee.close()})).catch((function(e){console.log(e)})).finally((function(){ee.renderLoading(!1)}))}));ee.setEventListeners();var te=new _(".popup-image");te.setEventListeners(),V.addEventListener("click",(function(){var e=Z.getUserInfo();J.value=e.name,G.value=e.job,W.resetValidation(),ee.open()}));var ne=new O(".popup-avatar",(function(e){ne.renderLoading(!0),re.changeAvatarUser(e.link).then((function(e){Z.setAvatarUser(e.avatar),ne.close()})).catch((function(e){console.log(e)})).finally((function(){ne.renderLoading(!1)}))}));ne.setEventListeners(),H.addEventListener("click",(function(){Y.resetValidation(),ne.open(),Y.toggleButtonState()}));var re=new C({url:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{Authorization:"52b38323-31d5-410e-bc4e-08f257105694","content-type":"application/json"}});Promise.all([re.getUserInfo(),re.getAllCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],u=r[1];Z.setUserInfo(i.name,i.about),Z.setAvatarUser(i.avatar);var c=new a({renderer:function(e){e.forEach((function(e){$.append(l(e))}))}},".gallery__items");function l(e){var t=new o({data:e,userID:i._id,handleCardClick:function(e,t){te.open(e,t)},handlePopupDeleteOpen:function(e){oe.open(e)},handleLikeCard:function(){t.liked?re.deleteLike(t._id).then((function(e){t.setLikes(e.likes.length),t.likeStatus()})).catch((function(e){console.log(e)})):re.addLike(t._id).then((function(e){t.setLikes(e.likes.length),t.likeStatus()})).catch((function(e){console.log(e)}))}},".gallery-template");return t.generateCard()}c.rendererItems(u);var s=new O(".popup-add",(function(e){s.renderLoading(!0),re.addNewCard(e.name,e.link).then((function(e){c.addItem(l(e)),s.close(),X.toggleButtonState()})).catch((function(e){console.log(e)})).finally((function(){s.renderLoading(!1)}))}));s.setEventListeners(),F.addEventListener("click",(function(){X.resetValidation(),s.open()}))}));var oe=new U(".popup-delete",(function(e){re.removeMyCard(e._id).then((function(){e.removeCard(),oe.close()})).catch((function(e){console.log(e)}))}));oe.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJhY3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJhY3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJhY3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBSZW1vdmVDYXJkLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX2J1dHRvbkludmFsaWQgPSBjb25maWcuYnV0dG9uSW52YWxpZDtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkKGlucHV0RWxlbWVudCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIF9pc1ZhbGlkID0gKGlucHV0RWxlbWVudCkgPT4ge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yID0gKGlucHV0RWxlbWVudCwgdmFsaWRhdGlvbk1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gdmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gJyc7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pXG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9idXR0b25JbnZhbGlkKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9idXR0b25JbnZhbGlkKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcbiAgICB9KVxuICB9XG59XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7ZGF0YSwgdXNlcklELCBoYW5kbGVDYXJkQ2xpY2ssIGhhbmRsZVBvcHVwRGVsZXRlT3BlbiwgaGFuZGxlTGlrZUNhcmR9LCBjYXJkU2VsZWN0b3IpIHtcbiAgICB0aGlzLmxpa2VkID0gZmFsc2U7XG5cbiAgICBkYXRhLmxpa2VzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIGlmIChpdGVtLl9pZCA9PT0gdXNlcklEKSB7XG4gICAgICAgIHRoaXMubGlrZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy5fdXNlcklEID0gdXNlcklEO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9saWtlID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5fb3duZXIgPSBkYXRhLm93bmVyO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVQb3B1cERlbGV0ZU9wZW4gPSBoYW5kbGVQb3B1cERlbGV0ZU9wZW47XG4gICAgdGhpcy5faGFuZGxlTGlrZUNhcmQgPSBoYW5kbGVMaWtlQ2FyZDtcbiAgfVxuXG4gICAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2l0ZW0nKS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICAgIH1cblxuICAgIGdlbmVyYXRlQ2FyZCgpIHtcblxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2ltYWdlcycpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19saWtlLWJ1dHRvbicpO1xuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX3RpdGxlJyk7XG4gICAgdGhpcy5fcGxhY2VMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fbGlrZS1jb3VudCcpO1xuICAgIHRoaXMuX3JlbW92ZUljb24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19jcmFzaC1idXR0b24nKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVyKCk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9wbGFjZUxpa2UudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlO1xuXG4gICAgaWYgKHRoaXMubGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZ2FsbGVyeV9fbGlrZS1idXR0b24tYWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX293bmVyLl9pZCA9PSB0aGlzLl91c2VySUQpIHtcbiAgICAgIHRoaXMuX3JlbW92ZUljb24uY2xhc3NMaXN0LmFkZCgnZ2FsbGVyeV9fY3Jhc2gtYnV0dG9uLW93bmVyJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gICAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl90b2dnbGVMaWtlKCk7XG4gICAgfSlcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KVxuXG4gICAgdGhpcy5fcmVtb3ZlSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZVBvcHVwRGVsZXRlT3Blbih0aGlzKTtcbiAgICB9KVxuICB9XG5cbiAgICBfdG9nZ2xlTGlrZSgpIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnZ2FsbGVyeV9fbGlrZS1idXR0b24tYWN0aXZlJyk7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2FyZCgpO1xuICAgIH1cblxuICAgIHJlbW92ZUNhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRMaWtlcyhjb3VudExpa2VzKSB7XG4gICAgICB0aGlzLl9saWtlID0gY291bnRMaWtlcztcbiAgICAgIHRoaXMuX3BsYWNlTGlrZS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2U7XG4gICAgfVxuXG4gICAgbGlrZVN0YXR1cygpIHtcbiAgICAgIHRoaXMubGlrZWQgPSAhdGhpcy5saWtlZDtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcil7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcblxuICB9XG5cbiAgcmVuZGVyZXJJdGVtcyhpdGVtcykge1xuICAvLyAgY29uc29sZS5sb2coaXRlbXMpO1xuICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW1zKTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fb3BlbmVkJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIgKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuaW1nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWcnKTtcbiAgICB0aGlzLmxhYmVsID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19sYWJlbCcpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5pbWcuc3JjID0gbGluaztcbiAgICB0aGlzLmltZy5hbHQgPSBuYW1lO1xuICAgIHRoaXMubGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2ZpZWxkJyk7XG4gICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2J1dHRvbicpO1xuICB9XG5cbiAgLy8g0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBfc3VibWl0Rm9ybSA9IChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICB9XG5cbiAgLy8g0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8g0Lgg0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YtcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEZvcm0pO1xuICB9XG5cbiAgLy8g0L/RgNC4INC30LDQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwINGE0L7RgNC80LAg0LTQvtC70LbQvdCwINGB0LHRgNCw0YHRi9Cy0LDRgtGM0YHRj1xuICBjbG9zZSAoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQvtGC0L7QsdGA0LDQttC10L3QuNC1INC+0LbQuNC00LDQvdC40Y8g0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YVcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWQpIHtcbiAgICBpZiAoaXNMb2FkKSB7XG4gICAgICB0aGlzLl9idXR0b24uaW5uZXJUZXh0ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1IC4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi5pbm5lclRleHQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xuICAgIH1cbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yTmFtZSwgc2VsZWN0b3JKb2IsIHVzZXJBdmF0YXIpIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvck5hbWUpO1xuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JKb2IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhcik7XG4gIH1cblxuICAvL9Cy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XG4gICAgdGhpcy5fZGF0YSA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIC8v0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBhYm91dDtcblxuICB9XG5cbiAgc2V0QXZhdGFyVXNlcihhdmF0YXJMaW5rKSB7XG4gICAgdGhpcy5fYXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSAgPSBgdXJsKCcke2F2YXRhckxpbmt9JylgO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1N1Y2Nlc3NSZXF1ZXN0KHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCX0LDQv9GA0L7RgSDQvtGC0YDQsNCx0L7RgtCw0Lsg0YEg0L7RiNC40LHQutC+0LkgLSAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICAvLyDQn9C+0LvRg9GH0LDQtdC8INC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LBcblxuICBnZXRBbGxDYXJkcygpIHtcbiAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3VjY2Vzc1JlcXVlc3QpO1xuICB9XG5cbiAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1N1Y2Nlc3NSZXF1ZXN0KTtcbiAgfVxuXG4vLyDQoNC10LTQsNC60YLQuNGA0YPQtdC8INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L3QsCDRgdC10YDQstC10YDQtVxuXG4gIGVkaXRVc2VyUHJvZmlsZShuYW1lLCBhYm91dCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0XG4gICAgfSlcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdWNjZXNzUmVxdWVzdCk7XG4gIH1cblxuICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YBcblxuICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGlua1xuICAgIH0pXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1N1Y2Nlc3NSZXF1ZXN0KTtcbiAgfVxuXG4gIC8vINCj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgdC10YDQstC10YDQsFxuXG4gIHJlbW92ZU15Q2FyZChfaWQpIHtcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX3VybH0vY2FyZHMvJHtfaWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3VjY2Vzc1JlcXVlc3QpO1xuICB9XG5cbiAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUv0YHQvdGP0YLQuNC1INC70LDQudC60LBcblxuICBhZGRMaWtlKF9pZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdWNjZXNzUmVxdWVzdCk7XG4gIH1cblxuICBkZWxldGVMaWtlKF9pZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdWNjZXNzUmVxdWVzdCk7XG4gIH1cblxuICAvLyDQmNC30LzQtdC90LXQvdC40LUg0LDQstCw0YLQsNGA0LBcbiAgY2hhbmdlQXZhdGFyVXNlcihsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBsaW5rXG4gICAgfSlcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3VjY2Vzc1JlcXVlc3QpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwUmVtb3ZlQ2FyZCBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IsIGhhbmRsZURlbGV0ZUNhcmQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0tZGVsZXRlJyk7XG4gICAgdGhpcy5fYnV0dG9uUG9wdXBEZWxldGVDYXJkID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYnV0dG9uLWRlbGV0ZScpO1xuICAgIC8vdGhpcy5faWQgPSBpZDtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcbiAgfVxuXG4gIG9wZW4oY2FyZCkge1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgLy8gIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zdWJtaXRGb3JtRGVsZXRlID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZCk7XG4gICAgLy90aGlzLmNsb3NlKClcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIC8vICBjb25zb2xlLmxvZyh0aGlzLl9idXR0b25Qb3B1cERlbGV0ZUNhcmQpO1xuICAgIHRoaXMuX2J1dHRvblBvcHVwRGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3N1Ym1pdEZvcm1EZWxldGUpO1xufVxuXG59XG4iLCJleHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkJyk7XG5leHBvcnQgY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1lZGl0Jyk7XG5leHBvcnQgY29uc3QgZm9ybUFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWFkZCcpO1xuZXhwb3J0IGNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XG5leHBvcnQgY29uc3QgaW5wdXRKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVzY3JpcHRpb24nKTtcbmV4cG9ydCBjb25zdCB1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1hdmF0YXInKTtcbmV4cG9ydCBjb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2l0ZW1zJyk7XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9fZmllbGQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19idXR0b24nLFxuICBidXR0b25JbnZhbGlkOiAnZm9ybV9fYnV0dG9uLWludmFsaWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJ1xufTtcbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cCBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCBQb3B1cFJlbW92ZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFJlbW92ZUNhcmQuanMnO1xuXG5pbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7XG4gIGJ1dHRvbkVkaXQsXG4gIGJ1dHRvbk9wZW5Qb3B1cEFkZCxcbiAgZm9ybUVkaXQsXG4gIGZvcm1BZGQsXG4gIGlucHV0TmFtZSxcbiAgaW5wdXRKb2IsXG4gIHVzZXJBdmF0YXIsXG4gIGZvcm1BdmF0YXIsXG4gIGNvbmZpZyxcbiAgZ2FsbGVyeVxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG4vLyDQn9C+0LTQutC70Y7Rh9C10L3QuNC40LUg0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG5cbmNvbnN0IHZhbGlkYXRpb25Qb3B1cEVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FZGl0KTtcbnZhbGlkYXRpb25Qb3B1cEVkaXQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB2YWxpZGF0aW9uUG9wdXBBZGQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1BZGQpO1xudmFsaWRhdGlvblBvcHVwQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdmFsaWRhdGlvblBvcHVwQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtQXZhdGFyKTtcbnZhbGlkYXRpb25Qb3B1cEF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINCh0L7Qt9C00LDQtdC8INC60LvQsNGB0YEg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKCcucHJvZmlsZV9fdGl0bGUnLCAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJywgJy5wcm9maWxlX19hdmF0YXInKTtcblxuLy8g0KHQvtC30LTQsNC10Lwg0L/QvtC/0LDQvyDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIC8g0J/QntCf0JDQnyDQoNCV0JTQkNCa0KLQmNCg0J7QktCQ0J3QmNCvINCf0KDQntCk0JjQm9CvXG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAtZWRpdCcsICh2YWx1ZXMpID0+IHtcbnByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGkuZWRpdFVzZXJQcm9maWxlKHZhbHVlcy5uYW1lLCB2YWx1ZXMuZGVzY3JpcHRpb24pXG4gIC50aGVuKHJlc3VsdCA9PiB7XG5cbiAgICBwcm9maWxlLnNldFVzZXJJbmZvKHJlc3VsdC5uYW1lLCByZXN1bHQuYWJvdXQpO1xuXG4gICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSlcbiAgLmZpbmFsbHkoKCkgPT4ge1xuICAgIHByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgfSlcbn1cbik7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0L/QsNC/0LAg0YEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8XG5cbmNvbnN0IG9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwLWltYWdlJyk7XG5vcGVuSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB1c2VySW5mbyA9IHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gdXNlckluZm8ubmFtZTtcbiAgaW5wdXRKb2IudmFsdWUgPSB1c2VySW5mby5qb2I7XG4gIHZhbGlkYXRpb25Qb3B1cEVkaXQucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KVxuXG4vLyDQmNC90LjRhtC40LjQsNC70LjQt9C40YDRg9C10Lwg0L/QvtC/0LDQvyAtINGB0LzQtdC90LAg0LDQstCw0YLQsNGA0LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIC8g0J/QntCf0JDQnyDQodCc0JXQndCQINCQ0JLQkNCi0JDQoNCa0JhcblxuY29uc3QgYXZhdGFyVXNlclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cC1hdmF0YXInLCAoZGF0YSkgPT4ge1xuICBhdmF0YXJVc2VyUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpLmNoYW5nZUF2YXRhclVzZXIoZGF0YS5saW5rKVxuICAudGhlbihyZXN1bHQgPT4ge1xuICAgIHByb2ZpbGUuc2V0QXZhdGFyVXNlcihyZXN1bHQuYXZhdGFyKTtcbiAgICBhdmF0YXJVc2VyUG9wdXAuY2xvc2UoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KVxuICAuZmluYWxseSgoKSA9PiB7XG4gICAgYXZhdGFyVXNlclBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgfSlcbn0pXG5hdmF0YXJVc2VyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gb3BlblBvcHVwRWRpdEF2YXRhcigpIHtcbiAgdmFsaWRhdGlvblBvcHVwQXZhdGFyLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJVc2VyUG9wdXAub3BlbigpO1xuICB2YWxpZGF0aW9uUG9wdXBBdmF0YXIudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbn1cblxuLy8g0KPRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0YHQu9GD0YjQsNGC0LXQu9GMINC90LAg0LjQutC+0L3QutGDINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0LDQstCw0YLQsNGA0LBcblxudXNlckF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cEVkaXRBdmF0YXIpO1xuXG5cbi8vINCh0L7Qt9C00LDQtdC8INC60LvQsNGB0YEg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSBBUElcblxuY29uc3QgYXBpID0gbmV3IEFwaSAoe1xuICB1cmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQxJyxcbiAgaGVhZGVyczoge1xuICAgIEF1dGhvcml6YXRpb246ICc1MmIzODMyMy0zMWQ1LTQxMGUtYmM0ZS0wOGYyNTcxMDU2OTQnLFxuICAgIFwiY29udGVudC10eXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gIH1cbn0pXG5cbi8vIDEuINCf0L7Qu9GD0YfQsNC10Lwg0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INC4INC+0YLRgNC40YHQvtCy0YvQstCw0LXQvCDQutCw0YDRgtC+0YfQutC4XG5cblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEFsbENhcmRzKCldKS50aGVuKChbIG9ialVzZXIsIG9iakNhcmRMaXN0IF0pID0+IHtcbiAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INC90LAg0YHRgtGA0LDQvdC40YbRgyDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5cbiAgcHJvZmlsZS5zZXRVc2VySW5mbyhvYmpVc2VyLm5hbWUsIG9ialVzZXIuYWJvdXQpO1xuICBwcm9maWxlLnNldEF2YXRhclVzZXIob2JqVXNlci5hdmF0YXIpO1xuXG5cbiAgLy8g0J7RgtGA0LjRgdC+0LLRi9Cy0LDQtdC8INC60LDRgNGC0L7Rh9C60LhcbiAgY29uc3QgY2FyZExpc3RJdGVtcyA9IG5ldyBTZWN0aW9uICh7XG4gICAgcmVuZGVyZXI6IChpdGVtcykgPT4ge1xuICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICBnYWxsZXJ5LmFwcGVuZChjcmVhdGVDYXJkKGl0ZW0pKTtcbiAgICAgIH0pXG4gICAgfVxuICB9LCAnLmdhbGxlcnlfX2l0ZW1zJyk7XG4gIGNhcmRMaXN0SXRlbXMucmVuZGVyZXJJdGVtcyhvYmpDYXJkTGlzdCk7XG5cbiAgLy8g0KTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQutCw0YDRgtC+0YfQutC4IC8vXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcblxuICBjb25zdCBjYXJkRWxlbWVudCA9IG5ldyBDYXJkKHtcbiAgICBkYXRhOiBkYXRhLFxuICAgIHVzZXJJRDogb2JqVXNlci5faWQsXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAobmFtZSwgbGluaykgPT4ge1xuICAgICAgb3BlbkltYWdlLm9wZW4obmFtZSwgbGluayk7XG4gICAgICAvL2NvbnNvbGUubG9nKGNhcmRFbGVtZW50KTtcbiAgICB9LFxuICAgIC8v0L/QtdGA0LXQtNCw0LXQvCDRhNGD0L3QutGG0LjRjiDQtNC70Y8g0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LAg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0YPQtNCw0LvQtdC90LjRj1xuICAgIGhhbmRsZVBvcHVwRGVsZXRlT3BlbjogKGNhcmQpID0+IHtcbiAgICAgIC8vINC90YPQttC90L4g0LLRi9C30LLQsNGC0Ywg0LzQtdGC0L7QtCDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQtNC70Y8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG4gICAgICBwb3B1cERlbGV0ZUNhcmQub3BlbihjYXJkKTtcblxuICAgIH0sXG4gICAgaGFuZGxlTGlrZUNhcmQ6ICgpID0+IHtcbiAgICAgIC8vINC/0YDQvtCy0LXRgNGP0LXQvCDQtdGB0YLRjCDQu9C4INC90LDRiCDQu9Cw0LnQuiDQvdCwINC60LDRgNGC0L7Rh9C60LggLSDQtdGB0LvQuCDQvdC10YIsINGD0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdC8OlxuXG4gICAgICBpZiAoIWNhcmRFbGVtZW50Lmxpa2VkKSB7XG4gICAgICAgIGFwaS5hZGRMaWtlKGNhcmRFbGVtZW50Ll9pZClcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcblxuICAgICAgICAgIGNhcmRFbGVtZW50LnNldExpa2VzKHJlcy5saWtlcy5sZW5ndGgpO1xuICAgICAgICAgIGNhcmRFbGVtZW50Lmxpa2VTdGF0dXMoKTtcblxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcGkuZGVsZXRlTGlrZShjYXJkRWxlbWVudC5faWQpXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgY2FyZEVsZW1lbnQuc2V0TGlrZXMocmVzLmxpa2VzLmxlbmd0aCk7XG4gICAgICAgICAgY2FyZEVsZW1lbnQubGlrZVN0YXR1cygpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfVxuXG4gIH0sICcuZ2FsbGVyeS10ZW1wbGF0ZScpXG5cbiAgcmV0dXJuIGNhcmRFbGVtZW50LmdlbmVyYXRlQ2FyZCgpO1xufVxuXG4gIGNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cC1hZGQnLCAodmFsdWVzKSA9PiB7XG4gICAgYWRkUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBhcGkuYWRkTmV3Q2FyZCh2YWx1ZXMubmFtZSwgdmFsdWVzLmxpbmspXG4gICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICBjYXJkTGlzdEl0ZW1zLmFkZEl0ZW0oY3JlYXRlQ2FyZChyZXN1bHQpKTtcbiAgICAgIGFkZFBvcHVwLmNsb3NlKCk7XG4gICAgICB2YWxpZGF0aW9uUG9wdXBBZGQudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgfSlcbiAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICB9KVxuICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgfSlcbiAgfSlcblxuICBhZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gIGJ1dHRvbk9wZW5Qb3B1cEFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB2YWxpZGF0aW9uUG9wdXBBZGQucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgYWRkUG9wdXAub3BlbigpO1xuICB9KVxufSlcblxuLy8vINCY0L3QuNGG0LjQuNGA0YPQtdC8INC/0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4XG5cbmNvbnN0IHBvcHVwRGVsZXRlQ2FyZCA9IG5ldyBQb3B1cFJlbW92ZUNhcmQoJy5wb3B1cC1kZWxldGUnLCAoY2FyZCkgPT4ge1xuICBhcGkucmVtb3ZlTXlDYXJkKGNhcmQuX2lkKVxuICAudGhlbigoKSA9PiB7XG4gICAgY2FyZC5yZW1vdmVDYXJkKCk7XG4gICAgcG9wdXBEZWxldGVDYXJkLmNsb3NlKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSlcbn0pO1xuXG5wb3B1cERlbGV0ZUNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4iXSwibmFtZXMiOlsiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsIl9mb3JtRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImlucHV0RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaXNWYWxpZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlkIiwidGV4dENvbnRlbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJfaW5wdXRFcnJvckNsYXNzIiwicmVtb3ZlIiwic29tZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJfYnV0dG9uSW52YWxpZCIsImRpc2FibGVkIiwidGhpcyIsIl9jb25maWciLCJpbnB1dFNlbGVjdG9yIiwiYnV0dG9uSW52YWxpZCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5wdXRFcnJvckNsYXNzIiwiZXZ0IiwicHJldmVudERlZmF1bHQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiZGF0YSIsInVzZXJJRCIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZVBvcHVwRGVsZXRlT3BlbiIsImhhbmRsZUxpa2VDYXJkIiwiX2VsZW1lbnQiLCJsaWtlZCIsImxpa2VzIiwiaXRlbSIsIl9pZCIsIl91c2VySUQiLCJfZGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9saWtlIiwibGVuZ3RoIiwiX293bmVyIiwib3duZXIiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUNhcmRDbGljayIsIl9oYW5kbGVQb3B1cERlbGV0ZU9wZW4iLCJfaGFuZGxlTGlrZUNhcmQiLCJkb2N1bWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwiX2xpa2VCdXR0b24iLCJfY2FyZFRpdGxlIiwiX3BsYWNlTGlrZSIsIl9yZW1vdmVJY29uIiwiX3NldEV2ZW50TGlzdGVuZXIiLCJzcmMiLCJhbHQiLCJfdG9nZ2xlTGlrZSIsInRvZ2dsZSIsImNvdW50TGlrZXMiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtcyIsImVsZW1lbnQiLCJwcmVwZW5kIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwia2V5IiwiY2xvc2UiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhJbWFnZSIsImltZyIsImxhYmVsIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtIiwiX2lucHV0cyIsIl9idXR0b24iLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJfc3VibWl0Rm9ybSIsInJlc2V0IiwiaXNMb2FkIiwiaW5uZXJUZXh0IiwiVXNlckluZm8iLCJzZWxlY3Rvck5hbWUiLCJzZWxlY3RvckpvYiIsInVzZXJBdmF0YXIiLCJqb2IiLCJfam9iIiwiX2F2YXRhciIsImFib3V0IiwiYXZhdGFyTGluayIsInN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiQXBpIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJfY2hlY2tTdWNjZXNzUmVxdWVzdCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYXZhdGFyIiwiUG9wdXBSZW1vdmVDYXJkIiwiaGFuZGxlRGVsZXRlQ2FyZCIsIl9oYW5kbGVEZWxldGVDYXJkIiwiX2NhcmQiLCJfYnV0dG9uUG9wdXBEZWxldGVDYXJkIiwiY2FyZCIsIl9zdWJtaXRGb3JtRGVsZXRlIiwiYnV0dG9uRWRpdCIsImJ1dHRvbk9wZW5Qb3B1cEFkZCIsImZvcm1FZGl0IiwiZm9ybUFkZCIsImlucHV0TmFtZSIsImlucHV0Sm9iIiwiZm9ybUF2YXRhciIsImdhbGxlcnkiLCJ2YWxpZGF0aW9uUG9wdXBFZGl0IiwiZW5hYmxlVmFsaWRhdGlvbiIsInZhbGlkYXRpb25Qb3B1cEFkZCIsInZhbGlkYXRpb25Qb3B1cEF2YXRhciIsInByb2ZpbGUiLCJwcm9maWxlUG9wdXAiLCJ2YWx1ZXMiLCJyZW5kZXJMb2FkaW5nIiwiYXBpIiwiZWRpdFVzZXJQcm9maWxlIiwiZGVzY3JpcHRpb24iLCJyZXN1bHQiLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW5JbWFnZSIsInVzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJyZXNldFZhbGlkYXRpb24iLCJvcGVuIiwiYXZhdGFyVXNlclBvcHVwIiwiY2hhbmdlQXZhdGFyVXNlciIsInNldEF2YXRhclVzZXIiLCJBdXRob3JpemF0aW9uIiwiYWxsIiwiZ2V0QWxsQ2FyZHMiLCJvYmpVc2VyIiwib2JqQ2FyZExpc3QiLCJjYXJkTGlzdEl0ZW1zIiwiYXBwZW5kIiwiY3JlYXRlQ2FyZCIsImNhcmRFbGVtZW50IiwicG9wdXBEZWxldGVDYXJkIiwiZGVsZXRlTGlrZSIsInNldExpa2VzIiwibGlrZVN0YXR1cyIsImFkZExpa2UiLCJnZW5lcmF0ZUNhcmQiLCJyZW5kZXJlckl0ZW1zIiwiYWRkUG9wdXAiLCJhZGROZXdDYXJkIiwiYWRkSXRlbSIsInJlbW92ZU15Q2FyZCIsInJlbW92ZUNhcmQiXSwic291cmNlUm9vdCI6IiJ9