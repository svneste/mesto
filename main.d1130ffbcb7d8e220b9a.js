!function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var n=function(){function n(e,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_setEventListeners",(function(){o._inputList=Array.from(o._formElement.querySelectorAll(o._inputSelector)),o._submitButtonElement=o._formElement.querySelector(o._submitButtonSelector),o.toggleButtonState(),o._inputList.forEach((function(e){e.addEventListener("input",(function(){o._isValid(e),o.toggleButtonState()}))}))})),t(this,"_isValid",(function(e){e.validity.valid?o._hideInputError(e):o._showInputError(e,e.validationMessage)})),t(this,"_showInputError",(function(e,t){o._formElement.querySelector(".".concat(e.id,"-error")).textContent=t,e.classList.add(o._inputErrorClass)})),t(this,"_hideInputError",(function(e){o._formElement.querySelector(".".concat(e.id,"-error")).textContent="",e.classList.remove(o._inputErrorClass)})),t(this,"_hasInvalidInput",(function(){return o._inputList.some((function(e){return!e.validity.valid}))})),t(this,"toggleButtonState",(function(){o._hasInvalidInput()?(o._submitButtonElement.classList.add(o._buttonInvalid),o._submitButtonElement.disabled=!0):(o._submitButtonElement.classList.remove(o._buttonInvalid),o._submitButtonElement.disabled=!1)})),this._config=e,this._inputSelector=e.inputSelector,this._buttonInvalid=e.buttonInvalid,this._submitButtonSelector=e.submitButtonSelector,this._inputErrorClass=e.inputErrorClass,this._formElement=r}var r,o;return r=n,(o=[{key:"enableValidation",value:function(){this._formElement.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}},{key:"resetValidation",value:function(){var e=this;this.toggleButtonState(),this._inputList.forEach((function(t){e._hideInputError(t)}))}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r,o,i=this,a=t.data,u=t.userID,c=t.handleCardClick,l=t.handlePopupDeleteOpen,s=t.handleLikeCard;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=function(){i._element.remove(),i._element=null},(r="removeCard")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this.liked=!1,a.likes.forEach((function(e){e._id===u&&(i.liked=!0)})),this._userID=u,this._data=a,this._name=a.name,this._link=a.link,this._like=a.likes.length,this._owner=a.owner,this._cardSelector=n,this._handleCardClick=c,this._id=a._id,this._handlePopupDeleteOpen=l,this._handleLikeCard=s}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".gallery__item").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".gallery__images"),this._likeButton=this._element.querySelector(".gallery__like-button"),this._cardTitle=this._element.querySelector(".gallery__title"),this._placeLike=this._element.querySelector(".gallery__like-count"),this._removeIcon=this._element.querySelector(".gallery__crash-button"),this._setEventListener(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._placeLike.textContent=this._like,this.liked&&this._likeButton.classList.add("gallery__like-button-active"),this._owner._id==this._userID&&this._removeIcon.classList.add("gallery__crash-button-owner"),this._element}},{key:"_setEventListener",value:function(){var e=this;this._likeButton.addEventListener("click",(function(){e._handleLikeCard()})),this._cardImage.addEventListener("click",(function(){e._handleCardClick(e._name,e._link)})),this._removeIcon.addEventListener("click",(function(){e._handlePopupDeleteOpen(e)}))}},{key:"_toggleLike",value:function(){this._likeButton.classList.toggle("gallery__like-button-active")}},{key:"setLikes",value:function(e){this._like=e,this._toggleLike(),this._placeLike.textContent=this._like}},{key:"likeStatus",value:function(){this.liked=!this.liked}}])&&r(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t,n){var r=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderer=r,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"rendererItems",value:function(e){this._renderer(e)}},{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"appendItem",value:function(e){this._container.append(e)}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(t)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup__opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup__opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target.classList.contains("popup__opened")||t.target.classList.contains("popup__close"))&&e.close()}))}}])&&u(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=p(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function p(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).img=t._popup.querySelector(".popup__img"),t.label=t._popup.querySelector(".popup__label"),t}return t=a,(n=[{key:"open",value:function(e,t){this.img.src=t,this.img.alt=e,this.label.textContent=e,f(y(a.prototype),"open",this).call(this)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(){return v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},v.apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=E(e)););return e}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}function w(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}var O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=E(r);if(o){var n=E(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._handleFormSubmit(n._getInputValues())},(o="_submitForm")in(r=S(n=i.call(this,e)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._form=n._popup.querySelector(".form"),n._inputs=n._form.querySelectorAll(".form__field"),n._handleFormSubmit=t,n._button=n._form.querySelector(".form__button"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputs.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){v(E(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",this._submitForm)}},{key:"close",value:function(){v(E(a.prototype),"close",this).call(this),this._form.reset()}},{key:"renderLoading",value:function(e){this._button.innerText=e?"Сохранение ...":"Сохранить"}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t,n,r){var o,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i=function(){return a._data={name:a._name.textContent,job:a._job.textContent},a._data},(o="getUserInfo")in this?Object.defineProperty(this,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[o]=i,this._name=document.querySelector(t),this._job=document.querySelector(n),this._avatar=document.querySelector(r)}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._job.textContent=t}},{key:"setAvatarUser",value:function(e){this._avatar.style.backgroundImage="url('".concat(e,"')")}}])&&L(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"_checkSuccessRequest",value:function(e){return e.ok?e.json():Promise.reject("Запрос отработал с ошибкой - ".concat(e.status))}},{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/cards"),{method:"GET",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/users/me"),{method:"GET",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"editUserProfile",value:function(e,t){return fetch("".concat(this._url,"/users/me"),{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkSuccessRequest)}},{key:"addNewCard",value:function(e,t){return fetch("".concat(this._url,"/cards"),{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then(this._checkSuccessRequest)}},{key:"removeMyCard",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e),{method:"DELETE",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"addLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"deleteLike",value:function(e){return fetch("".concat(this._url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:this._headers}).then(this._checkSuccessRequest)}},{key:"changeAvatarUser",value:function(e){return fetch("".concat(this._url,"/users/me/avatar"),{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then(this._checkSuccessRequest)}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(){return R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=T(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},R.apply(this,arguments)}function T(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function B(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return A(e)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=x(r);if(o){var n=x(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return B(this,e)});function a(e,t){var n,r,o,u;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),u=function(e){e.preventDefault(),n._handleDeleteCard(n._card)},(o="_submitFormDelete")in(r=A(n=i.call(this,e)))?Object.defineProperty(r,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):r[o]=u,n._form=n._popup.querySelector(".form-delete"),n._buttonPopupDeleteCard=n._form.querySelector(".form__button-delete"),n._handleDeleteCard=t,n}return t=a,(n=[{key:"open",value:function(e){this._card=e,R(x(a.prototype),"open",this).call(this)}},{key:"setEventListeners",value:function(){R(x(a.prototype),"setEventListeners",this).call(this),this._buttonPopupDeleteCard.addEventListener("click",this._submitFormDelete)}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c),V=document.querySelector(".profile__button-edit"),F=document.querySelector(".profile__button-add"),N=document.querySelector(".form-edit"),M=document.querySelector(".form-add"),J=document.querySelector("#name"),G=document.querySelector("#description"),H=document.querySelector(".profile__avatar"),z=document.querySelector(".form-avatar"),$=(document.querySelector(".gallery__items"),{inputSelector:".form__field",submitButtonSelector:".form__button",buttonInvalid:"form__button-invalid",inputErrorClass:"form__input_type_error"});function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=new n($,N);Q.enableValidation();var W=new n($,M);W.enableValidation();var X=new n($,z);X.enableValidation();var Y=new j(".profile__title",".profile__description",".profile__avatar"),Z=new O(".popup-edit",(function(e){Z.renderLoading(!0),ne.editUserProfile(e.name,e.description).then((function(e){Y.setUserInfo(e.name,e.about),Z.close()})).catch((function(e){console.log(e)})).finally((function(){Z.renderLoading(!1)}))}));Z.setEventListeners();var ee=new _(".popup-image");ee.setEventListeners(),V.addEventListener("click",(function(){var e=Y.getUserInfo();J.value=e.name,G.value=e.job,Q.resetValidation(),Z.open()}));var te=new O(".popup-avatar",(function(e){te.renderLoading(!0),ne.changeAvatarUser(e.link).then((function(e){Y.setAvatarUser(e.avatar),te.close()})).catch((function(e){console.log(e)})).finally((function(){te.renderLoading(!1)}))}));te.setEventListeners(),H.addEventListener("click",(function(){X.resetValidation(),te.open()}));var ne=new C({url:"https://mesto.nomoreparties.co/v1/cohort-41",headers:{Authorization:"52b38323-31d5-410e-bc4e-08f257105694","content-type":"application/json"}});Promise.all([ne.getUserInfo(),ne.getAllCards()]).then((function(e){var t,n,r=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){u=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=r[0],u=r[1];Y.setUserInfo(i.name,i.about),Y.setAvatarUser(i.avatar);var c=new a({renderer:function(e){e.forEach((function(e){c.appendItem(l(e))}))}},".gallery__items");function l(e){var t=new o({data:e,userID:i._id,handleCardClick:function(e,t){ee.open(e,t)},handlePopupDeleteOpen:function(e){re.open(e)},handleLikeCard:function(){t.liked?ne.deleteLike(t._id).then((function(e){t.setLikes(e.likes.length),t.likeStatus()})).catch((function(e){console.log(e)})):ne.addLike(t._id).then((function(e){t.setLikes(e.likes.length),t.likeStatus()})).catch((function(e){console.log(e)}))}},".gallery-template");return t.generateCard()}c.rendererItems(u);var s=new O(".popup-add",(function(e){s.renderLoading(!0),ne.addNewCard(e.name,e.link).then((function(e){c.addItem(l(e)),s.close()})).catch((function(e){console.log(e)})).finally((function(){s.renderLoading(!1)}))}));s.setEventListeners(),F.addEventListener("click",(function(){W.resetValidation(),s.open()}))})).catch((function(e){console.log(e)}));var re=new U(".popup-delete",(function(e){ne.removeMyCard(e._id).then((function(){e.removeCard(),re.close()})).catch((function(e){console.log(e)}))}));re.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBZ0JsQixvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJhY3Rpa3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3lhbmRleF9wcmFjdGlrdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8veWFuZGV4X3ByYWN0aWt1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwUmVtb3ZlQ2FyZC5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJhY3Rpa3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly95YW5kZXhfcHJhY3Rpa3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9idXR0b25JbnZhbGlkID0gY29uZmlnLmJ1dHRvbkludmFsaWQ7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KVxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgdGhpcy5faXNWYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICBfaXNWYWxpZCA9IChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICBpZiAoIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvciA9IChpbnB1dEVsZW1lbnQsIHZhbGlkYXRpb25NZXNzYWdlKSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IHZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0ID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KVxuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fYnV0dG9uSW52YWxpZCk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fYnV0dG9uSW52YWxpZCk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSlcbiAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3Ioe2RhdGEsIHVzZXJJRCwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVQb3B1cERlbGV0ZU9wZW4sIGhhbmRsZUxpa2VDYXJkfSwgY2FyZFNlbGVjdG9yKSB7XG4gICAgdGhpcy5saWtlZCA9IGZhbHNlO1xuXG4gICAgZGF0YS5saWtlcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5faWQgPT09IHVzZXJJRCkge1xuICAgICAgICB0aGlzLmxpa2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KVxuICAgIHRoaXMuX3VzZXJJRCA9IHVzZXJJRDtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fbGlrZSA9IGRhdGEubGlrZXMubGVuZ3RoO1xuICAgIHRoaXMuX293bmVyID0gZGF0YS5vd25lcjtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5faGFuZGxlUG9wdXBEZWxldGVPcGVuID0gaGFuZGxlUG9wdXBEZWxldGVPcGVuO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDYXJkID0gaGFuZGxlTGlrZUNhcmQ7XG4gIH1cblxuICAgIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19pdGVtJykuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNhcmQoKSB7XG5cbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X19pbWFnZXMnKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fbGlrZS1idXR0b24nKTtcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5nYWxsZXJ5X190aXRsZScpO1xuICAgIHRoaXMuX3BsYWNlTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2xpa2UtY291bnQnKTtcbiAgICB0aGlzLl9yZW1vdmVJY29uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FsbGVyeV9fY3Jhc2gtYnV0dG9uJyk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fcGxhY2VMaWtlLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZTtcblxuICAgIGlmICh0aGlzLmxpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2dhbGxlcnlfX2xpa2UtYnV0dG9uLWFjdGl2ZScpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9vd25lci5faWQgPT0gdGhpcy5fdXNlcklEKSB7XG4gICAgICB0aGlzLl9yZW1vdmVJY29uLmNsYXNzTGlzdC5hZGQoJ2dhbGxlcnlfX2NyYXNoLWJ1dHRvbi1vd25lcicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICAgIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcigpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUNhcmQoKTtcbiAgICB9KVxuXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xuICAgIH0pXG5cbiAgICB0aGlzLl9yZW1vdmVJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlUG9wdXBEZWxldGVPcGVuKHRoaXMpO1xuICAgIH0pXG4gIH1cblxuICAgIF90b2dnbGVMaWtlKCkge1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdnYWxsZXJ5X19saWtlLWJ1dHRvbi1hY3RpdmUnKTtcblxuICAgIH1cblxuICAgIHJlbW92ZUNhcmQgPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9lbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBzZXRMaWtlcyhjb3VudExpa2VzKSB7XG4gICAgICB0aGlzLl9saWtlID0gY291bnRMaWtlcztcbiAgICAgIHRoaXMuX3RvZ2dsZUxpa2UoKTtcbiAgICAgIHRoaXMuX3BsYWNlTGlrZS50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2U7XG5cbiAgICB9XG5cbiAgICBsaWtlU3RhdHVzKCkge1xuICAgICAgdGhpcy5saWtlZCA9ICF0aGlzLmxpa2VkO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKXtcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuXG4gIH1cblxuICByZW5kZXJlckl0ZW1zKGl0ZW1zKSB7XG4gIC8vICBjb25zb2xlLmxvZyhpdGVtcyk7XG4gICAgdGhpcy5fcmVuZGVyZXIoaXRlbXMpO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cblxuICBhcHBlbmRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGl0ZW0pO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX19vcGVuZWQnKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fb3BlbmVkJykgfHwgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX19jbG9zZScpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KVxuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEltYWdlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIgKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuaW1nID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbWcnKTtcbiAgICB0aGlzLmxhYmVsID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19sYWJlbCcpO1xuICB9XG5cbiAgb3BlbihuYW1lLCBsaW5rKSB7XG4gICAgdGhpcy5pbWcuc3JjID0gbGluaztcbiAgICB0aGlzLmltZy5hbHQgPSBuYW1lO1xuICAgIHRoaXMubGFiZWwudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbiAgIHRoaXMuX2lucHV0cyA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2ZpZWxkJyk7XG4gICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgIHRoaXMuX2J1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2J1dHRvbicpO1xuICB9XG5cbiAgLy8g0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICBfc3VibWl0Rm9ybSA9IChldnQpID0+IHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICB9XG5cbiAgLy8g0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INC60LvQuNC60LAg0LjQutC+0L3QutC1INC30LDQutGA0YvRgtC40Y8g0Lgg0LTQvtCx0LDQstC70Y/QtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LDQsdC80LjRgtCwINGE0L7RgNC80YtcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEZvcm0pO1xuICB9XG5cbiAgLy8g0L/RgNC4INC30LDQutGA0YvRgtC40Lgg0L/QvtC/0LDQv9CwINGE0L7RgNC80LAg0LTQvtC70LbQvdCwINGB0LHRgNCw0YHRi9Cy0LDRgtGM0YHRj1xuICBjbG9zZSAoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XG4gIH1cblxuICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQvtGC0L7QsdGA0LDQttC10L3QuNC1INC+0LbQuNC00LDQvdC40Y8g0LfQsNCz0YDRg9C30LrQuCDQtNCw0L3QvdGL0YVcbiAgcmVuZGVyTG9hZGluZyhpc0xvYWQpIHtcbiAgICBpZiAoaXNMb2FkKSB7XG4gICAgICB0aGlzLl9idXR0b24uaW5uZXJUZXh0ID0gJ9Ch0L7RhdGA0LDQvdC10L3QuNC1IC4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2J1dHRvbi5pbm5lclRleHQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJ1xuICAgIH1cbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHNlbGVjdG9yTmFtZSwgc2VsZWN0b3JKb2IsIHVzZXJBdmF0YXIpIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvck5hbWUpO1xuICAgIHRoaXMuX2pvYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JKb2IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckF2YXRhcik7XG4gIH1cblxuICAvL9Cy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgZ2V0VXNlckluZm8gPSAoKSA9PiB7XG4gICAgdGhpcy5fZGF0YSA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgfVxuXG4gIC8v0L/RgNC40L3QuNC80LDQtdGCINC90L7QstGL0LUg0LTQsNC90L3Ri9C1INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjyDQuCDQtNC+0LHQsNCy0LvRj9C10YIg0LjRhSDQvdCwINGB0YLRgNCw0L3QuNGG0YNcbiAgc2V0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBhYm91dDtcblxuICB9XG5cbiAgc2V0QXZhdGFyVXNlcihhdmF0YXJMaW5rKSB7XG4gICAgdGhpcy5fYXZhdGFyLnN0eWxlLmJhY2tncm91bmRJbWFnZSAgPSBgdXJsKCcke2F2YXRhckxpbmt9JylgO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICB0aGlzLl91cmwgPSBjb25maWcudXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBjb25maWcuaGVhZGVycztcbiAgfVxuXG4gIF9jaGVja1N1Y2Nlc3NSZXF1ZXN0KHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCX0LDQv9GA0L7RgSDQvtGC0YDQsNCx0L7RgtCw0Lsg0YEg0L7RiNC40LHQutC+0LkgLSAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICAvLyDQn9C+0LvRg9GH0LDQtdC8INC60LDRgNGC0L7Rh9C60Lgg0YEg0YHQtdGA0LLQtdGA0LBcblxuICBnZXRBbGxDYXJkcygpIHtcbiAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3VjY2Vzc1JlcXVlc3QpO1xuICB9XG5cbiAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LVcblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1N1Y2Nlc3NSZXF1ZXN0KTtcbiAgfVxuXG4vLyDQoNC10LTQsNC60YLQuNGA0YPQtdC8INC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y8g0L3QsCDRgdC10YDQstC10YDQtVxuXG4gIGVkaXRVc2VyUHJvZmlsZShuYW1lLCBhYm91dCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0XG4gICAgfSlcbiAgICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdWNjZXNzUmVxdWVzdCk7XG4gIH1cblxuICAvLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YBcblxuICBhZGROZXdDYXJkKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgbGluazogbGlua1xuICAgIH0pXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1N1Y2Nlc3NSZXF1ZXN0KTtcbiAgfVxuXG4gIC8vINCj0LTQsNC70LXQvdC40LUg0LrQsNGA0YLQvtGH0LrQuCDRgSDRgdC10YDQstC10YDQsFxuXG4gIHJlbW92ZU15Q2FyZChfaWQpIHtcbiAgICByZXR1cm4gZmV0Y2ggKGAke3RoaXMuX3VybH0vY2FyZHMvJHtfaWR9YCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnNcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3VjY2Vzc1JlcXVlc3QpO1xuICB9XG5cbiAgLy8g0JTQvtCx0LDQstC70LXQvdC40LUv0YHQvdGP0YLQuNC1INC70LDQudC60LBcblxuICBhZGRMaWtlKF9pZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdWNjZXNzUmVxdWVzdCk7XG4gIH1cblxuICBkZWxldGVMaWtlKF9pZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tTdWNjZXNzUmVxdWVzdCk7XG4gIH1cblxuICAvLyDQmNC30LzQtdC90LXQvdC40LUg0LDQstCw0YLQsNGA0LBcbiAgY2hhbmdlQXZhdGFyVXNlcihsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBsaW5rXG4gICAgfSlcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrU3VjY2Vzc1JlcXVlc3QpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSAnLi9Qb3B1cC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwUmVtb3ZlQ2FyZCBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IgKHBvcHVwU2VsZWN0b3IsIGhhbmRsZURlbGV0ZUNhcmQpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZvcm0tZGVsZXRlJyk7XG4gICAgdGhpcy5fYnV0dG9uUG9wdXBEZWxldGVDYXJkID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9fYnV0dG9uLWRlbGV0ZScpO1xuICAgIC8vdGhpcy5faWQgPSBpZDtcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDYXJkID0gaGFuZGxlRGVsZXRlQ2FyZDtcbiAgfVxuXG4gIG9wZW4oY2FyZCkge1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgLy8gIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9zdWJtaXRGb3JtRGVsZXRlID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNhcmQodGhpcy5fY2FyZCk7XG4gICAgLy90aGlzLmNsb3NlKClcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIC8vICBjb25zb2xlLmxvZyh0aGlzLl9idXR0b25Qb3B1cERlbGV0ZUNhcmQpO1xuICAgIHRoaXMuX2J1dHRvblBvcHVwRGVsZXRlQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX3N1Ym1pdEZvcm1EZWxldGUpO1xufVxuXG59XG4iLCJleHBvcnQgY29uc3QgYnV0dG9uRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tZWRpdCcpO1xuZXhwb3J0IGNvbnN0IGJ1dHRvbk9wZW5Qb3B1cEFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19idXR0b24tYWRkJyk7XG5leHBvcnQgY29uc3QgZm9ybUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1lZGl0Jyk7XG5leHBvcnQgY29uc3QgZm9ybUFkZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWFkZCcpO1xuZXhwb3J0IGNvbnN0IGlucHV0TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XG5leHBvcnQgY29uc3QgaW5wdXRKb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVzY3JpcHRpb24nKTtcbmV4cG9ydCBjb25zdCB1c2VyQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuZXhwb3J0IGNvbnN0IGZvcm1BdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1hdmF0YXInKTtcbmV4cG9ydCBjb25zdCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmdhbGxlcnlfX2l0ZW1zJyk7XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9fZmllbGQnLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogJy5mb3JtX19idXR0b24nLFxuICBidXR0b25JbnZhbGlkOiAnZm9ybV9fYnV0dG9uLWludmFsaWQnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dF90eXBlX2Vycm9yJ1xufTtcbiIsImltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcbmltcG9ydCBQb3B1cCBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwLmpzJztcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJztcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcbmltcG9ydCBQb3B1cFJlbW92ZUNhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFJlbW92ZUNhcmQuanMnO1xuXG5pbXBvcnQgJy4uL3BhZ2VzL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7XG4gIGJ1dHRvbkVkaXQsXG4gIGJ1dHRvbk9wZW5Qb3B1cEFkZCxcbiAgZm9ybUVkaXQsXG4gIGZvcm1BZGQsXG4gIGlucHV0TmFtZSxcbiAgaW5wdXRKb2IsXG4gIHVzZXJBdmF0YXIsXG4gIGZvcm1BdmF0YXIsXG4gIGNvbmZpZyxcbiAgZ2FsbGVyeVxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xuXG4vLyDQn9C+0LTQutC70Y7Rh9C10L3QuNC40LUg0LLQsNC70LjQtNCw0YbQuNC4INGE0L7RgNC8XG5cbmNvbnN0IHZhbGlkYXRpb25Qb3B1cEVkaXQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1FZGl0KTtcbnZhbGlkYXRpb25Qb3B1cEVkaXQuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCB2YWxpZGF0aW9uUG9wdXBBZGQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGZvcm1BZGQpO1xudmFsaWRhdGlvblBvcHVwQWRkLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgdmFsaWRhdGlvblBvcHVwQXZhdGFyID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBmb3JtQXZhdGFyKTtcbnZhbGlkYXRpb25Qb3B1cEF2YXRhci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vINCh0L7Qt9C00LDQtdC8INC60LvQsNGB0YEg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG5jb25zdCBwcm9maWxlID0gbmV3IFVzZXJJbmZvKCcucHJvZmlsZV9fdGl0bGUnLCAnLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJywgJy5wcm9maWxlX19hdmF0YXInKTtcblxuLy8g0KHQvtC30LTQsNC10Lwg0L/QvtC/0LDQvyDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQtNCw0L3QvdGL0YUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIC8g0J/QntCf0JDQnyDQoNCV0JTQkNCa0KLQmNCg0J7QktCQ0J3QmNCvINCf0KDQntCk0JjQm9CvXG5cbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXAtZWRpdCcsICh2YWx1ZXMpID0+IHtcbnByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICBhcGkuZWRpdFVzZXJQcm9maWxlKHZhbHVlcy5uYW1lLCB2YWx1ZXMuZGVzY3JpcHRpb24pXG4gIC50aGVuKHJlc3VsdCA9PiB7XG5cbiAgICBwcm9maWxlLnNldFVzZXJJbmZvKHJlc3VsdC5uYW1lLCByZXN1bHQuYWJvdXQpO1xuXG4gICAgcHJvZmlsZVBvcHVwLmNsb3NlKCk7XG4gIH0pXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5sb2coZXJyKTtcbiAgfSlcbiAgLmZpbmFsbHkoKCkgPT4ge1xuICAgIHByb2ZpbGVQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgfSlcbn1cbik7XG5wcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG4vLyDQlNC+0LHQsNCy0LvQtdC90LjQtSDQv9C+0L/QsNC/0LAg0YEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8XG5cbmNvbnN0IG9wZW5JbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSgnLnBvcHVwLWltYWdlJyk7XG5vcGVuSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuXG5idXR0b25FZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBjb25zdCB1c2VySW5mbyA9IHByb2ZpbGUuZ2V0VXNlckluZm8oKTtcbiAgaW5wdXROYW1lLnZhbHVlID0gdXNlckluZm8ubmFtZTtcbiAgaW5wdXRKb2IudmFsdWUgPSB1c2VySW5mby5qb2I7XG4gIHZhbGlkYXRpb25Qb3B1cEVkaXQucmVzZXRWYWxpZGF0aW9uKCk7XG4gIHByb2ZpbGVQb3B1cC5vcGVuKCk7XG59KVxuXG4vLyDQmNC90LjRhtC40LjQsNC70LjQt9C40YDRg9C10Lwg0L/QvtC/0LDQvyAtINGB0LzQtdC90LAg0LDQstCw0YLQsNGA0LAg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPIC8g0J/QntCf0JDQnyDQodCc0JXQndCQINCQ0JLQkNCi0JDQoNCa0JhcblxuY29uc3QgYXZhdGFyVXNlclBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cC1hdmF0YXInLCAoZGF0YSkgPT4ge1xuICBhdmF0YXJVc2VyUG9wdXAucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgYXBpLmNoYW5nZUF2YXRhclVzZXIoZGF0YS5saW5rKVxuICAudGhlbihyZXN1bHQgPT4ge1xuICAgIHByb2ZpbGUuc2V0QXZhdGFyVXNlcihyZXN1bHQuYXZhdGFyKTtcbiAgICBhdmF0YXJVc2VyUG9wdXAuY2xvc2UoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KVxuICAuZmluYWxseSgoKSA9PiB7XG4gICAgYXZhdGFyVXNlclBvcHVwLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgfSlcbn0pXG5hdmF0YXJVc2VyUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gb3BlblBvcHVwRWRpdEF2YXRhcigpIHtcbiAgdmFsaWRhdGlvblBvcHVwQXZhdGFyLnJlc2V0VmFsaWRhdGlvbigpO1xuICBhdmF0YXJVc2VyUG9wdXAub3BlbigpO1xufVxuXG4vLyDQo9GB0YLQsNC90LDQstC70LjQstCw0LXQvCDRgdC70YPRiNCw0YLQtdC70Ywg0L3QsCDQuNC60L7QvdC60YMg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQsNCy0LDRgtCw0YDQsFxuXG51c2VyQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblBvcHVwRWRpdEF2YXRhcik7XG5cblxuLy8g0KHQvtC30LTQsNC10Lwg0LrQu9Cw0YHRgSDQtNC70Y8g0YDQsNCx0L7RgtGLINGBIEFQSVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpICh7XG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDEnLFxuICBoZWFkZXJzOiB7XG4gICAgQXV0aG9yaXphdGlvbjogJzUyYjM4MzIzLTMxZDUtNDEwZS1iYzRlLTA4ZjI1NzEwNTY5NCcsXG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcbiAgfVxufSlcblxuLy8gMS4g0J/QvtC70YPRh9Cw0LXQvCDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0Lgg0L7RgtGA0LjRgdC+0LLRi9Cy0LDQtdC8INC60LDRgNGC0L7Rh9C60LhcblxuUHJvbWlzZS5hbGwoW2FwaS5nZXRVc2VySW5mbygpLCBhcGkuZ2V0QWxsQ2FyZHMoKV0pLnRoZW4oKFsgb2JqVXNlciwgb2JqQ2FyZExpc3QgXSkgPT4ge1xuICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L3QsCDRgdGC0YDQsNC90LjRhtGDINC00LDQvdC90YvQtSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cblxuICBwcm9maWxlLnNldFVzZXJJbmZvKG9ialVzZXIubmFtZSwgb2JqVXNlci5hYm91dCk7XG4gIHByb2ZpbGUuc2V0QXZhdGFyVXNlcihvYmpVc2VyLmF2YXRhcik7XG5cblxuICAvLyDQntGC0YDQuNGB0L7QstGL0LLQsNC10Lwg0LrQsNGA0YLQvtGH0LrQuFxuICBjb25zdCBjYXJkTGlzdEl0ZW1zID0gbmV3IFNlY3Rpb24gKHtcbiAgICByZW5kZXJlcjogKGl0ZW1zKSA9PiB7XG4gICAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICAgY2FyZExpc3RJdGVtcy5hcHBlbmRJdGVtKGNyZWF0ZUNhcmQoaXRlbSkpO1xuICAgICAgfSlcbiAgICB9XG4gIH0sICcuZ2FsbGVyeV9faXRlbXMnKTtcbiAgY2FyZExpc3RJdGVtcy5yZW5kZXJlckl0ZW1zKG9iakNhcmRMaXN0KTtcblxuICAvLyDQpNGD0L3QutGG0LjRjyDRgdC+0LfQtNCw0L3QuNGPINC60LDRgNGC0L7Rh9C60LggLy9cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoe1xuICAgIGRhdGE6IGRhdGEsXG4gICAgdXNlcklEOiBvYmpVc2VyLl9pZCxcbiAgICBoYW5kbGVDYXJkQ2xpY2s6IChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICBvcGVuSW1hZ2Uub3BlbihuYW1lLCBsaW5rKTtcbiAgICAgIC8vY29uc29sZS5sb2coY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gICAgLy/Qv9C10YDQtdC00LDQtdC8INGE0YPQvdC60YbQuNGOINC00LvRjyDQvtGC0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDRg9C00LDQu9C10L3QuNGPXG4gICAgaGFuZGxlUG9wdXBEZWxldGVPcGVuOiAoY2FyZCkgPT4ge1xuICAgICAgLy8g0L3Rg9C20L3QviDQstGL0LfQstCw0YLRjCDQvNC10YLQvtC0INC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwINC00LvRjyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcbiAgICAgIHBvcHVwRGVsZXRlQ2FyZC5vcGVuKGNhcmQpO1xuXG4gICAgfSxcbiAgICBoYW5kbGVMaWtlQ2FyZDogKCkgPT4ge1xuICAgICAgLy8g0L/RgNC+0LLQtdGA0Y/QtdC8INC10YHRgtGMINC70Lgg0L3QsNGIINC70LDQudC6INC90LAg0LrQsNGA0YLQvtGH0LrQuCAtINC10YHQu9C4INC90LXRgiwg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lw6XG5cbiAgICAgIGlmICghY2FyZEVsZW1lbnQubGlrZWQpIHtcbiAgICAgICAgYXBpLmFkZExpa2UoY2FyZEVsZW1lbnQuX2lkKVxuICAgICAgICAudGhlbihyZXMgPT4ge1xuXG4gICAgICAgICAgY2FyZEVsZW1lbnQuc2V0TGlrZXMocmVzLmxpa2VzLmxlbmd0aCk7XG4gICAgICAgICAgY2FyZEVsZW1lbnQubGlrZVN0YXR1cygpO1xuXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFwaS5kZWxldGVMaWtlKGNhcmRFbGVtZW50Ll9pZClcbiAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICBjYXJkRWxlbWVudC5zZXRMaWtlcyhyZXMubGlrZXMubGVuZ3RoKTtcbiAgICAgICAgICBjYXJkRWxlbWVudC5saWtlU3RhdHVzKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG5cbiAgfSwgJy5nYWxsZXJ5LXRlbXBsYXRlJylcblxuICByZXR1cm4gY2FyZEVsZW1lbnQuZ2VuZXJhdGVDYXJkKCk7XG59XG5cbiAgY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwLWFkZCcsICh2YWx1ZXMpID0+IHtcbiAgICBhZGRQb3B1cC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaS5hZGROZXdDYXJkKHZhbHVlcy5uYW1lLCB2YWx1ZXMubGluaylcbiAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgIGNhcmRMaXN0SXRlbXMuYWRkSXRlbShjcmVhdGVDYXJkKHJlc3VsdCkpO1xuICAgICAgYWRkUG9wdXAuY2xvc2UoKTtcbiAgICAgfSlcbiAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICB9KVxuICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRQb3B1cC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgfSlcbiAgfSlcblxuICBhZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG4gIGJ1dHRvbk9wZW5Qb3B1cEFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB2YWxpZGF0aW9uUG9wdXBBZGQucmVzZXRWYWxpZGF0aW9uKCk7XG4gICAgYWRkUG9wdXAub3BlbigpO1xuICB9KVxufSlcbi5jYXRjaCgoZXJyKSA9PiB7XG4gIGNvbnNvbGUubG9nKGVycik7XG59KVxuXG4vLy8g0JjQvdC40YbQuNC40YDRg9C10Lwg0L/QvtC/0LDQvyDRg9C00LDQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcblxuY29uc3QgcG9wdXBEZWxldGVDYXJkID0gbmV3IFBvcHVwUmVtb3ZlQ2FyZCgnLnBvcHVwLWRlbGV0ZScsIChjYXJkKSA9PiB7XG4gIGFwaS5yZW1vdmVNeUNhcmQoY2FyZC5faWQpXG4gIC50aGVuKCgpID0+IHtcbiAgICBjYXJkLnJlbW92ZUNhcmQoKTtcbiAgICBwb3B1cERlbGV0ZUNhcmQuY2xvc2UoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmxvZyhlcnIpO1xuICB9KVxufSk7XG5cbnBvcHVwRGVsZXRlQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5cbiJdLCJuYW1lcyI6WyJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwiX2Zvcm1FbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbkVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9pc1ZhbGlkIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsIl9pbnB1dEVycm9yQ2xhc3MiLCJyZW1vdmUiLCJzb21lIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9idXR0b25JbnZhbGlkIiwiZGlzYWJsZWQiLCJ0aGlzIiwiX2NvbmZpZyIsImlucHV0U2VsZWN0b3IiLCJidXR0b25JbnZhbGlkIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJpbnB1dEVycm9yQ2xhc3MiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkNhcmQiLCJjYXJkU2VsZWN0b3IiLCJkYXRhIiwidXNlcklEIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlUG9wdXBEZWxldGVPcGVuIiwiaGFuZGxlTGlrZUNhcmQiLCJfZWxlbWVudCIsImxpa2VkIiwibGlrZXMiLCJpdGVtIiwiX2lkIiwiX3VzZXJJRCIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2xpa2UiLCJsZW5ndGgiLCJfb3duZXIiLCJvd25lciIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX2hhbmRsZVBvcHVwRGVsZXRlT3BlbiIsIl9oYW5kbGVMaWtlQ2FyZCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJfbGlrZUJ1dHRvbiIsIl9jYXJkVGl0bGUiLCJfcGxhY2VMaWtlIiwiX3JlbW92ZUljb24iLCJfc2V0RXZlbnRMaXN0ZW5lciIsInNyYyIsImFsdCIsInRvZ2dsZSIsImNvdW50TGlrZXMiLCJfdG9nZ2xlTGlrZSIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZWxlbWVudCIsInByZXBlbmQiLCJhcHBlbmQiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiaW1nIiwibGFiZWwiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm0iLCJfaW5wdXRzIiwiX2J1dHRvbiIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsIl9zdWJtaXRGb3JtIiwicmVzZXQiLCJpc0xvYWQiLCJpbm5lclRleHQiLCJVc2VySW5mbyIsInNlbGVjdG9yTmFtZSIsInNlbGVjdG9ySm9iIiwidXNlckF2YXRhciIsImpvYiIsIl9qb2IiLCJfYXZhdGFyIiwiYWJvdXQiLCJhdmF0YXJMaW5rIiwic3R5bGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJBcGkiLCJfdXJsIiwidXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImZldGNoIiwibWV0aG9kIiwidGhlbiIsIl9jaGVja1N1Y2Nlc3NSZXF1ZXN0IiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhdmF0YXIiLCJQb3B1cFJlbW92ZUNhcmQiLCJoYW5kbGVEZWxldGVDYXJkIiwiX2hhbmRsZURlbGV0ZUNhcmQiLCJfY2FyZCIsIl9idXR0b25Qb3B1cERlbGV0ZUNhcmQiLCJjYXJkIiwiX3N1Ym1pdEZvcm1EZWxldGUiLCJidXR0b25FZGl0IiwiYnV0dG9uT3BlblBvcHVwQWRkIiwiZm9ybUVkaXQiLCJmb3JtQWRkIiwiaW5wdXROYW1lIiwiaW5wdXRKb2IiLCJmb3JtQXZhdGFyIiwidmFsaWRhdGlvblBvcHVwRWRpdCIsImVuYWJsZVZhbGlkYXRpb24iLCJ2YWxpZGF0aW9uUG9wdXBBZGQiLCJ2YWxpZGF0aW9uUG9wdXBBdmF0YXIiLCJwcm9maWxlIiwicHJvZmlsZVBvcHVwIiwidmFsdWVzIiwicmVuZGVyTG9hZGluZyIsImFwaSIsImVkaXRVc2VyUHJvZmlsZSIsImRlc2NyaXB0aW9uIiwicmVzdWx0Iiwic2V0VXNlckluZm8iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbGx5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJvcGVuSW1hZ2UiLCJ1c2VySW5mbyIsImdldFVzZXJJbmZvIiwicmVzZXRWYWxpZGF0aW9uIiwib3BlbiIsImF2YXRhclVzZXJQb3B1cCIsImNoYW5nZUF2YXRhclVzZXIiLCJzZXRBdmF0YXJVc2VyIiwiQXV0aG9yaXphdGlvbiIsImFsbCIsImdldEFsbENhcmRzIiwib2JqVXNlciIsIm9iakNhcmRMaXN0IiwiY2FyZExpc3RJdGVtcyIsImFwcGVuZEl0ZW0iLCJjcmVhdGVDYXJkIiwiY2FyZEVsZW1lbnQiLCJwb3B1cERlbGV0ZUNhcmQiLCJkZWxldGVMaWtlIiwic2V0TGlrZXMiLCJsaWtlU3RhdHVzIiwiYWRkTGlrZSIsImdlbmVyYXRlQ2FyZCIsInJlbmRlcmVySXRlbXMiLCJhZGRQb3B1cCIsImFkZE5ld0NhcmQiLCJhZGRJdGVtIiwicmVtb3ZlTXlDYXJkIiwicmVtb3ZlQ2FyZCJdLCJzb3VyY2VSb290IjoiIn0=